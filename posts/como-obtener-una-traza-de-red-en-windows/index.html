<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Como Obtener Una Traza De Red en Windows - Gonzalo.cloud: Aprende Microsoft Azure paso a paso</title><meta name="Description" content="Cómo obtener una traza de red con las herramientas nativas de Windows y Linux"><meta property="og:title" content="Como Obtener Una Traza De Red en Windows" />
<meta property="og:description" content="Cómo obtener una traza de red con las herramientas nativas de Windows y Linux" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.gonzalo.cloud/posts/como-obtener-una-traza-de-red-en-windows/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-06-20T10:02:06+02:00" />
<meta property="article:modified_time" content="2024-06-20T10:02:06+02:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Como Obtener Una Traza De Red en Windows"/>
<meta name="twitter:description" content="Cómo obtener una traza de red con las herramientas nativas de Windows y Linux"/>
<meta name="application-name" content="Gonzalo.cloud: Aprende Microsoft Azure paso a paso">
<meta name="apple-mobile-web-app-title" content="Gonzalo.cloud: Aprende Microsoft Azure paso a paso"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://www.gonzalo.cloud/posts/como-obtener-una-traza-de-red-en-windows/" /><link rel="prev" href="https://www.gonzalo.cloud/posts/no_puedo_conectar_desde_on_prem_a_azure_via_exr/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Como Obtener Una Traza De Red en Windows",
        "inLanguage": "es",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/www.gonzalo.cloud\/posts\/como-obtener-una-traza-de-red-en-windows\/"
        },"genre": "posts","keywords": "Trazas de red, netsh, tcpdump","wordcount":  178 ,
        "url": "https:\/\/www.gonzalo.cloud\/posts\/como-obtener-una-traza-de-red-en-windows\/","datePublished": "2024-06-20T10:02:06+02:00","dateModified": "2024-06-20T10:02:06+02:00","publisher": {
            "@type": "Organization",
            "name": "Gonzalo.cloud"},"author": {
                "@type": "Person",
                "name": "Gonzalo.cloud"
            },"description": "Cómo obtener una traza de red con las herramientas nativas de Windows y Linux"
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Gonzalo.cloud: Aprende Microsoft Azure paso a paso">Gonzalo.cloud: Aprende Microsoft Azure paso a paso</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Buscar">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Gonzalo.cloud: Aprende Microsoft Azure paso a paso">Gonzalo.cloud: Aprende Microsoft Azure paso a paso</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Buscar">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancelar
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contenido</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Como Obtener Una Traza De Red en Windows</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://www.linkedin.com/in/gonzalomurillotello/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Gonzalo.cloud</a></span>&nbsp;<span class="post-category">incluido en <a href="/categories/trazas-de-red/"><i class="far fa-folder fa-fw"></i>Trazas de red</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2024-06-20">2024-06-20</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;178 palabras&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;Un minuto&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/Images/nastya-dulhiier-OKOOGO578eo-unsplash.jpg"
        data-srcset="/Images/nastya-dulhiier-OKOOGO578eo-unsplash.jpg, /Images/nastya-dulhiier-OKOOGO578eo-unsplash.jpg 1.5x, /Images/nastya-dulhiier-OKOOGO578eo-unsplash.jpg 2x"
        data-sizes="auto"
        alt="/Images/nastya-dulhiier-OKOOGO578eo-unsplash.jpg"
        title="Cómo obtener una traza de red con las herramientas nativas de Windows y Linux" /></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contenido</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#obtener-una-traza-de-red-de-modo-nativo-en-windows-y-linux">Obtener una traza de red de modo nativo en Windows y Linux</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="obtener-una-traza-de-red-de-modo-nativo-en-windows-y-linux">Obtener una traza de red de modo nativo en Windows y Linux</h2>
<p>En muchas ocasiones, durante nuestro trabajo como técnicos de soporte, debemos obtener trazas de red.</p>
<p>Wireshark es un software fantástico, pero es imposible en muchas ocasiones instalar este software en máquinas en producción, por lo que solemos optar por soluciones nativas para recoger las requeridas trazas de red, tan necesarias para hacer troubleshooting de problemas complejos.</p>
<p>En Windows utilizamos el comando netsh</p>
<blockquote>
<p>netsh trace start capture=yes tracefile=c:\temp\networktraceatclient.etl persistent=yes maxsize=4096</p>
</blockquote>
<p>En Linux el equivalente es:</p>
<blockquote>
<p>tpdump -i any -s0 -nnn -w networktrace.cap</p>
</blockquote>
<p>Explicación de los parámetros</p>
<hr>
<p>-s0 indica que cogeremos todo el paquete, en lugar de únicamente la cabecera.</p>
<p>-nnn es para que no se resuelvan los hostnames ni los números de puerto.</p>
<p>-w networktrace.cap, es el nombre y path del fichero en el que se guardará la traza de red.</p>
<hr>
<p>Hay que notar que cuando la traza se coge en Windows, el fichero generado es .etl</p>
<p>Normalmente este fichero hay que convertiro a .pcap para poder procesarlo con Wireshark</p>
<p>Para ello usamos el software etl2pcap.exe</p>
<p><a href="https://github.com/microsoft/etl2pcapng/releases" target="_blank" rel="noopener noreffer">https://github.com/microsoft/etl2pcapng/releases</a></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Actualizado el 2024-06-20</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/trazas-de-red/">Trazas de red</a>,&nbsp;<a href="/tags/netsh/">netsh</a>,&nbsp;<a href="/tags/tcpdump/">tcpdump</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Regresar</a></span>&nbsp;|&nbsp;<span><a href="/">Inicio</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/no_puedo_conectar_desde_on_prem_a_azure_via_exr/" class="prev" rel="prev" title="No_puedo_conectar_desde_on_prem_a_azure_via_exr"><i class="fas fa-angle-left fa-fw"></i>No_puedo_conectar_desde_on_prem_a_azure_via_exr</a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Contenido creado por Gonzalo.cloud.Prohibida la reproducción parcial o total del contenido sin permiso explícito del autor</div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Gonzalo.cloud</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.es.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"search":{"highlightTag":"em","lunrLanguageCode":"es","maxResultLength":10,"noResultsFound":"No se encontraron resultados","snippetLength":30}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
